{% extends 'base.html' %}
{% load static  %}

{% block title %}
    交大优铺|首页
{% endblock %}

{% block header_extends %}
    <link rel="stylesheet" href="{% static 'home.css' %}">
    <script src="http://cdn.highcharts.com.cn/highcharts/highcharts.js"></script>
{% endblock %}

{% block nav_home_active %}active{% endblock %}

{% block content %}
    <div id="carousel-example-generic" class="carousel slide damu-carousel" data-ride="carousel" data-interval="2000" data-wrap="true">
      <ol class="carousel-indicators">
        <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
        <li data-target="#carousel-example-generic" data-slide-to="1"></li>
        <li data-target="#carousel-example-generic" data-slide-to="2"></li>
        <li data-target="#carousel-example-generic" data-slide-to="3"></li>
        <li data-target="#carousel-example-generic" data-slide-to="4"></li>
      </ol>
      <!-- Wrapper for slides -->
      <div class="carousel-inner" role="listbox">
        <div class="item active">
          <img src="{% static 'images/1.jpg' %}" >
          <div class="carousel-caption">
            <h2>麦当劳优惠</h2>
          </div>
        </div>
        <div class="item">
          <img src="{% static 'images/2.jpg' %}" >
          <div class="carousel-caption">
            <h2>麦当劳优惠</h2>
          </div>
        </div>
        <div class="item">
          <img src="{% static 'images/3.png' %}" >
          <div class="carousel-caption">
            <h2>瑞幸咖啡优惠</h2>
          </div>
        </div>
        <div class="item">
          <img src="{% static 'images/1.jpg' %}" >
          <div class="carousel-caption">
            <h2>麦当劳优惠</h2>
          </div>
        </div>
        <div class="item">
          <img src="{% static 'images/2.jpg' %}" >
          <div class="carousel-caption">
             <h2>麦当劳优惠</h2>
          </div>
        </div>
      </div>
    
      <!-- Controls -->
      <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>

    <div class="container damu-hr">
        <hr />
    </div>

    <div class="container-fluid damu-threeC">
        <div class="row-fluid">
            <div class="col-xs-4">
                <div class="thumbnail text-center">
                  <img src="{% static 'images/eat.jpg' %}" alt="吃的">
                  <div class="caption">
                    <h1>吃的</h1>
                    <p>好吃的东西.</p>
                    <a href="{% url 'shop:shop_with_type' 1 %}" class="btn btn-info btn-lg" role="button">
                      <span class="glyphicon glyphicon-cutlery" aria-hidden="true"></span>
                      吃顿好的
                    </a> 
                  </div>
                </div>
            </div>
            <div class="col-xs-4">
                <div class="thumbnail text-center">
                  <img src="{% static 'images/drink.jpg' %}" alt="吃的">
                  <div class="caption">
                    <h1>喝的</h1>
                    <p>好喝的东西.</p>
                    <a href="{% url 'shop:shop_with_type' 2 %}" class="btn btn-info btn-lg" role="button">
                      <span class="glyphicon glyphicon-glass" aria-hidden="true"></span>
                      喝点爽的
                    </a> 
                  </div>
                </div>
            </div>
            <div class="col-xs-4">
                <div class="thumbnail text-center">
                  <img src="{% static 'images/play.jpg' %}" alt="吃的">
                  <div class="caption">
                    <h1>玩的</h1>
                    <p>好玩的东西.</p>
                    <a href="{% url 'shop:shop_with_type' 3 %}" class="btn btn-info btn-lg" role="button">
                      <span class="glyphicon glyphicon-film" aria-hidden="true"></span>
                      玩得开心
                    </a> 
                  </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="col-xs-4">
                <div class="thumbnail text-center">
                  <img src="{% static 'images/learn.jpg' %}" alt="吃的">
                  <div class="caption">
                    <h1>学习</h1>
                    <p>学在交大.</p>
                    <a href="{% url 'shop:shop_with_type' 4 %}" class="btn btn-info btn-lg" role="button">
                      <span class="glyphicon glyphicon-book" aria-hidden="true"></span>
                      学在交大
                    </a> 
                  </div>
                </div>
            </div>
            <div class="col-xs-4">
                <div class="thumbnail text-center">
                  <img src="{% static 'images/life.png' %}" alt="吃的">
                  <div class="caption">
                    <h1>生活</h1>
                    <p>便捷生活.</p>
                    <a href="{% url 'shop:shop_with_type' 5 %}" class="btn btn-info btn-lg" role="button">
                      <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span>
                      应有尽有
                    </a> 
                  </div>
                </div>
            </div>
            <div class="col-xs-4">
                <div class="thumbnail text-center">
                  <img src="{% static 'images/handsome.png' %}" alt="吃的">
                  <div class="caption">
                    <h1>打扮</h1>
                    <p>打扮自己</p>
                    <p><a href="{% url 'shop:shop_with_type' 5 %}" class="btn btn-info btn-lg" role="button">
                      <span class="glyphicon glyphicon-sunglasses" aria-hidden="true"></span>
                      靓仔美女
                    </a> 
                  </div>
                </div>
            </div>
        </div>
    </div>

    <!--线-->
    <div class="container damu-hr">
        <hr />
    </div>
            <!--标签页-->
    <section id="tablee">
      <div class="container" id="damu-tab">
            <ul class="nav nav-tabs" role="tablist" id="damu-list">
              <li role="presentation" class="active"><a href="#hottoday" aria-controls="hottoday" role="tab" data-toggle="tab">今日热门店铺</a></li>
              <li role="presentation"><a href="#hotyesterday" aria-controls="hotyesterday" role="tab" data-toggle="tab">昨日热门店铺</a></li>
              <li role="presentation"><a href="#hotweek" aria-controls="hotweek" role="tab" data-toggle="tab">本周热门店铺</a></li>
              <li role="presentation"><a href="#hotdiscount" aria-controls="hotdiscount" role="tab" data-toggle="tab">热门优惠活动</a></li>
              <li role="presentation"><a href="#pic" aria-controls="pic" role="tab" data-toggle="tab">网站访问量</a></li>
            </ul>
            <div class="tab-content">
              <div role="tabpanel" class="tab-pane fade in active" id="hottoday">
                  <div class="container-fluid">
                      <div class="row">
                          <div class="col-md-7">
                              <ul>
                                {% for hot_data in today_hot_data %}
                                    <li ><a href="{% url 'shop:shop_detail' hot_data.content_object.pk %}" style="font-size:20px">{{ hot_data.content_object.name }}</a >({{ hot_data.read_num }})</li>
                                {% empty %}
                                    <li>今天暂时没有热门店铺</li>
                                {% endfor %}
                            </ul>
                          </div>
                          <div class="col-md-5">
                          </div>
                      </div>
                  </div>
              </div>
              <div role="tabpanel" class="tab-pane fade" id="hotyesterday">
                  <div class="container-fluid">
                      <div class="row">
                          <div class="col-md-7">
                              <ul>
                                {% for hot_data in yesterday_hot_data %}
                                    <li><a href="{% url 'shop:shop_detail' hot_data.content_object.pk %}" style="font-size:20px">{{ hot_data.content_object.name }}</a>({{ hot_data.read_num }})</li>
                                {% empty %}
                                    <li>昨天暂时没有热门店铺</li>
                                {% endfor %}
                            </ul>
                          </div>
                          <div class="col-md-5">
                          </div>
                      </div>
                  </div>
              </div>
              <div role="tabpanel" class="tab-pane fade" id="hotweek">
                  <div class="container-fluid">
                      <div class="row">
                          <div class="col-md-7">
                              <ul>
                                {% for hot_shop in seven_days_hot_shops %}
                                    <li><a href="{% url 'shop:shop_detail' hot_shop.pk %}">{{ hot_shop.name }}</a>({{ hot_shop.read_num_sum }})</li>
                                {% empty %}
                                    <li>最近七天暂时没有热门店铺</li>
                                {% endfor %}
                            </ul>
                          </div>
                          <div class="col-md-5">
                          </div>
                      </div>
                  </div>
              </div>
              <div role="tabpanel" class="tab-pane fade" id="hotdiscount">
                  <div class="container-fluid">
                      <div class="row">
                          <div class="col-md-7">
                              <ul>
                                {% for hot_shop in seven_days_hot_shops %}
                                    <li><a href="{% url 'shop_detail' hot_shop.id %}">{{ hot_shop.name }}</a>({{ hot_shop.read_num_sum }})</li>
                                {% empty %}
                                    <li>最近七天暂时没有热门店铺</li>
                                {% endfor %}
                                
                            </ul>
                          </div>
                          <div class="col-md-5">
                          </div>
                      </div>
                  </div>
              </div>
              <div role="tabpanel" class="tab-pane fade" id="pic">
                  <div class="container-fluid">
                      <div class="row">
                          <div class="col-md-7">
                              <div id="container" style="width: 600px;height:400px;"></div>
                          </div>
                          
                      </div>
                  </div>
              </div>
            </div>
          </div>
    </section>
    <!--线-->
    <div class="container damu-hr">
        <hr />
    </div>
    <!--版权-->
    <div class="container">
            &copy;软件工程14组
    </div>
    <script>
        // 图表配置
        var options = {
            chart: {type: 'line'},
            title: {text: null},
            xAxis: {
                categories: {{ dates|safe }},
                tickmarkPlacement: 'on',
            },
            yAxis: {
                title: { text: null },
                labels: { enabled: false },
                gridLineDashStyle: 'Dash',
            },
            series: [{                              // 数据列
                name: '访问量',                        // 数据列名
                data: {{ read_nums }}                     // 数据
            }],
            plotOptions: {
                line: {
                    dataLabels: {
                        enabled: true
                    }
                }
            },
            legend: { enabled: false },
            credits: { enabled: false },
        };
        // 图表初始化函数
        var chart = Highcharts.chart('container', options);
    </script>
{% endblock %}

